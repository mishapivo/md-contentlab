[![Как использовать кастомные поля для создания мета-блоков с обзорами](https://wpcafe.org/wp-content/uploads/thumb2.png)](https://wpcafe.org/tutorials/kak-ispolzovat-kastomnyie-polya-dlya-sozdaniya-meta-blokov-s-obzorami/)

# [Как использовать кастомные поля для создания мета-блоков с обзорами](https://wpcafe.org/tutorials/kak-ispolzovat-kastomnyie-polya-dlya-sozdaniya-meta-blokov-s-obzorami/)

Февраль 4, 2013 | [Уроки](https://wpcafe.org/category/tutorials/)

[custom fields](https://wpcafe.org/tags/custom-fields/), [кастомные поля](https://wpcafe.org/tags/kastomnyie-polya/), [мета-блоки](https://wpcafe.org/tags/meta-bloki/), [настраиваемые поля](https://wpcafe.org/tags/nastraivaemyie-polya/), [настройка wordpress](https://wpcafe.org/tags/nastroyka-wordpress/), [оформление](https://wpcafe.org/tags/oformlenie/), [советы](https://wpcafe.org/tags/sovetyi/), [форматирование](https://wpcafe.org/tags/formatirovanie/) [8](https://wpcafe.org/tutorials/kak-ispolzovat-kastomnyie-polya-dlya-sozdaniya-meta-blokov-s-obzorami/#comments)

**Обзоры** — пожалуй, один из самых мощных инструментов для ведения блогов. Правильно оформленные и наполненные цельной информацией, блоги с обзорами принадлежат к одной из наиболее прибыльных категорий ресурсов в блогосфере в плане монетизации. Но каждый блог должен предлагать единство дизайна, включая раздел с обзорами. В этом посте речь пойдет о том, как создать практически идеальный блок с обзорами книг, фильмов или товаров (потому что блок беглых обзоров — это раздел, который читатели проверяют первым делом, прежде чем перейти к чтению полного отзыва).

| [**Скачать исходники**](https://wpcafe.org/wp-content/uploads/wptuts-review-boxes1.zip) |

## Что мы планируем создать

![img](https://wpcafe.org/wp-content/uploads/pursuit-of-happyness.jpg)

В качестве примера создадим блок с **отзывом на кинофильм**. Возьмем один из любимых моих фильмов: [The Pursuit of Happyness](http://www.imdb.com/title/tt0454921/) (В погоне за счастьем). Блок будет отображать следующую информацию о фильме:

- **Название**: The Pursuit of Happyness
- **Год**: 2006
- **Режиссёр**: Gabriele Muccino
- **Автор сценария**: Steve Conrad
- **В главных ролях**: Will Smith, Jaden Smith, Thandie Newton
- **Жанр**: Биография, Драма
- **Длительность**: 117 минут
- **Сюжет**: Фильм создан на основе реальной истории человека по имени Кристофер Гарднер. Он вложил много средств и сил в устройство под названием "Bone Density scanner" (что-то вроде портативного рентгенографа). Но ни одно из созданных устройств он не мог продать, поскольку они были хоть и лучше, чем все существующие технологии, но существенно дороже. Как только Гарднер понял, что не сможет продать ни одно из этих устройств, жена бросила его, он потерял дом, ему закрыли кредитку и счет в банке. Оставшись без денег и вынужденный жить на улице со своим сыном, Гарднер отчаялся найти постоянную работу; он получает работу брокера на бирже, но прежде чем он получит первую зарплату, ему 6 месяцев надо пройти испытательный срок и за это время умудриться распродать оставшиеся у него сканнеры.
- И конечно же — не забываем о **картинке-иллюстрации** к аннотации фильма.

**Важное примечание**: Все данные о фильме мы берем из рейтинга [IMDB](http://www.imdb.com/title/tt0454921/).

## Шаг 1. Подготовка настраиваемой мета-формы для заполнения ее данными

Данные будут введены в кастомные поля, но добавление таких полей вручную к каждому новому обзору — та еще головная боль. Так что мы создадим **настраиваемый мета-блок**, в котором будут храниться данные для наших кастомных полей.

Для начала надо создать функцию **add_meta_box()** для создания мета-блока и написать функцию обратного отклика:

Функция отклика создаст поля для ввода наших данных. Для этого нам нужно текстовое поле для "Сюжета" и поля для ввода небольшого текста для всех остальных разделов блока с быстрым обзором:

Далее надо создать функцию WordPress, которая позволит сохранять введенные значения в качестве кастомных полей:

Готово!

> Чтобы узнать больше о создании настраиваемых мета-блоков и конкретном значении того или иного кода, вы можете прочесть вот [эту отличную статью](http://wp.tutsplus.com/tutorials/plugins/how-to-create-custom-wordpress-writemeta-boxes/), опубликованную на Wptuts+.

## Шаг 2. Пишем функцию для отображения блока с обзором

Теперь, когда мы определились, как настроить вывод информации, пришло время изучить, как будем получать информацию. Если вы ранее уже работали с кастомными полями, то у вас особых трудностей не возникнет. Мы просто сопоставим ввод и вывод настраиваемых полей.

У WordPress есть простая в использовании функции для получения значений настраиваемых полей:

Нам надо загрузить значения кастомных полей в код **HTML**, так что неплохо заранее позаботиться о том, каким будет этот HTML-код. Думаю, он будет иметь примерно следующий вид:

И когда мы все это сведем вместе, то получим готовую функцию:

## CSS-стили

Само собой, что стилистически блок с отзывом можно оформить по своему вкусу. Если такого желания особо нет, то можете воспользоваться нашим готовым стилем оформления:

> Если вы хотите прикрепить блок с обзором к левому или правому краю, не забудьте о добавлении объявленного параметра **float:left**; (или **float:right**;) к **.review-box**. Вы даже можете выровнять блок по центру, изменив значение параметра **margin:10px**; на **margin:10px auto**;.

## Шаг 3. Создаем шорт-код для вызова функции

Мы знаем, как настроить и как получить информационные данные... Самое время выучить, как мы будем отображать наши данные.

Блок с обзором можно автоматически добавить в конце или в начале вашего поста примерно вот так:

Но что нам делать, если вы хотите вставить блок с текстом обзора в середине поста? И вот тут наступает время моего любимого инструмента — **шорт-кодов**.

Этот шаг — еще проще, чем предыдущий, потому что вся предварительная работа по загрузке блока с обзором уже была проделана. Все, что осталось сделать, — это вызвать функцию при помощи шорт-кода:

И вот что вы получите в итоге, если все предыдущие шаги вы проделали в точности так, как было написано в этом посте:

![img](https://wpcafe.org/wp-content/uploads/review-box-screenshot.png)

## Завершаем работу

Блоки с обзорами можно использовать для аннотаций самого разного контента: от быстрых обзоров ПО и веб-сайтов до книг, телесериалов, фильмов и так далее. Даже в обычных блогах вы можете пользоваться таким форматом подачи информации забавы ради.

**Другие полезные статьи на данную тему**:

- [Руководство по кастомным типам записей WordPress](https://wpcafe.org/tutorials/rukovodstvo-po-kastomnyim-tipam-zapisey-wordpress/)
- [Custom Post Types: пользовательские таксономии, фильтры и архивы в WordPress](https://wpcafe.org/tutorials/custom-post-types-polzovatelskie-taksonomii-filtryi-i-arhivyi-v-wordpress/)

Если у вас есть еще идеи о том, как можно улучшить работу с формами и блоками текста или графики на сайте, приглашаем вас поделиться своим опытом в комментариях к этому посту.

###### **\*Источник: WP.tutsplus.com***

** 2586 просмотров всего, 1 view today

**Вам понравился материал?**