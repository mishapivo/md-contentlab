# Обзор ручного кода Anti-Patterns

Мы обсуждаем каждую любимую наименее любимую вещь, обзоры кода. Несмотря на то, что ваша работа критиковалась перед вами, это не забавно, эти анти-шаблоны делают ее еще хуже.

---

Ускорьте циклы доставки и улучшите качество программного обеспечения с помощью [TestComplete. ](https://dzone.com/go?i=228239&u=https%3A%2F%2Fsmartbear.com%2Fppc%2Ftestcomplete%2Fmain%2F%3Fsr%3Ddzone%26md%3Dad)Откройте для себя наиболее надежный инструмент автоматического тестирования для сквозного тестирования на рабочем столе, мобильных устройствах и в Интернете. [Попробуйте TestComplete бесплатно.](https://dzone.com/go?i=228239&u=https%3A%2F%2Fsmartbear.com%2Fppc%2Ftestcomplete%2Fmain%2F%3Fsr%3Ddzone%26md%3Dad)

*Редакционное примечание: я изначально написал это сообщение для блога SubMain. Вы можете проверить оригинал здесь , на своем сайте. Пока вы там, посмотрите на некоторые другие должности и на их предложения.*

Сегодня я хотел бы предложить несколько беззаботное обращение к серьезной теме. Обычно я нахожу, что это имеет тенденцию предлагать катарсис разочарованным. И тема обзора кода, как правило, приводит к большому разочарованию.

Говоря о просмотре кода, я всегда буду предлагать конкретное различие. Мы можем разделить обзоры кода на два взаимоисключающих ведра: автоматическое и ручное. Сначала это различие может показаться странным. Большинство из вас, читающих это, вероятно, думают о проверках кода как деятельности с исключительно человеческими актерами. Но я склонен не согласиться. Любой статический анализатор (включая компилятор) предлагает обратную связь. И некоторые инструменты, такие как [CodeIt.Right](http://submain.com/products/codeit.right.aspx) , специально рассматривают их предложения и автоматические исправления как автоматизацию процесса проверки кода.

Я бы сказал, что автоматическая проверка кода должна обязательно учитывать вашу стратегию обзора кода. Он принимает простые вещи из уравнения и позволяет вовлеченным людям сосредоточиться на более сложных, тонких темах. Тем не менее, я хочу игнорировать идею автоматического обзора для остальной части сообщения. Вместо этого я буду говорить исключительно о обзорах ручного кода и, более конкретно, о том, где они, как правило, становятся уродливыми.

Вы должны  *абсолютно* выполнять ручные обзоры кода. Полная остановка. Но вы также должны знать, что они могут легко ошибиться и превратиться в бесполезную или даже токсичную деятельность. Чтобы сделать их эффективными, вам нужно проявлять бдительность с ними. И, с этой целью, я расскажу о некоторых анти-шаблонах для проверки кода вручную.

[![img](https://www.daedtech.com/wp-content/uploads/2016/04/TriviaInterview.png)](https://www.daedtech.com/wp-content/uploads/2016/04/TriviaInterview.png)

### Рукавица

Прежде всего, давайте поговорим о стиле обзора, который, вероятно, вызывает наибольшее отвращение среди бывших участников. Здесь я говорю о том, что я называю «перчаткой».

В этом стиле обзора кода лицо, отправляющее на рассмотрение, приходит в комнату с рядом самых важных, гиперкритических сверстников. Конечно, они могут не считать себя сверстниками. Вместо этого они, вероятно, представляют себя в качестве судейской коллегии для какого-то реалити-шоу.

Из этого «высокого» окуня они нападают на код рецензента с злонамеренным ликованием. Они принимают насмешливый тон и управляют третьей степенью. И, честно говоря, они подавляют дух любого, кто подчиняется этому процессу, оставляя за собой низкий моральный дух и негодование.

### Марафон

Затем рассмотрим менее ужасный, но не эффективный стиль обзора кода. Это я называю «марафоном». Готов поспорить, вы можете предсказать, что я имею в виду.

В обзоре марафонского кода участники сидят в некоторых конференц-залах в течение  *нескольких часов* . Это начинается как достаточно восторженное дело, но со временем энергия людей ослабевает. Тем не менее, это происходит из-за эдикта, что весь код нуждается в пересмотре и потому, что все ждали до 11-го часа. И, как предсказуемо, с течением времени все становится более небрежным, и люди теряют пространство.

В обзорах кодов Marathon в конечном итоге попадает в точку, где вы, возможно, не беспокоитесь.

### Обзор Scattershot

Распространенные обзоры, как правило, происходят в организациях без особой тщательности в процессе обзора кода. Возможно, их процесс официально или формально не включает проверку кода. Или, может быть, он предлагает несколько дополнительных особенностей, чем «сделать это».

С помощью процесса проверки на растрата рецензент демонстрирует отсутствие согласованности или предсказуемости в оценке. Однажды он мог бы предложить устранить глобальные переменные, и в другой день он может отстаивать их. Или, возможно, дисперсия происходит в зависимости от рецензента. Независимо от особенностей, вы можете быть уверены, что вы никогда не получите одинаковые отзывы дважды.

Такой подход к обзору кода может вызвать некоторое раздражение и обиду. Но проблемы морального духа обычно занимают заднее сиденье до простой неэффективности и подталкивают подход.

### Экзамен

Некоторые из них, безусловно, могут совпадать. Фактически, некоторые из них, *вероятно, *будут  совпадать. Так оно и происходит с «экзаменом» и «перчаткой». Но пока перчатка фокусируется главным образом на процессе обзора, экзамен фокусируется на результатах.

Просмотры кода экзамена возникают, когда речь идет о том, что происходит в конце, включает в себя «прохождение или провал». Если вы слышите, как люди говорят о «провале» обзора кода, у вас есть экзамен на руках.

Обзор кода должен включать второй набор глаз на что-то, чтобы улучшить его. Например, представьте, что вы написали презентацию или технический документ. Вы можете попросить кого-нибудь просмотреть его и исправить его, чтобы помочь вам улучшить его. Если они найдут опечатку, они не объявят, что вы «не смогли». Они просто предложили обратную связь.

Рассмотрение обзоров кода как экзаменов, как правило, наносит ущерб моральному духу и заставляет команду проигрывать в совместной динамике.

### Солилоки

Стиль обзора, который я называю «soliloquy», включает в себя оплату обслуживания всего процесса. В литературе персонажи предлагают солилогию, когда они говорят вслух, независимо от того, кто их слышит. Таким образом, это также относится к стилям обзора кода.

Чтобы понять, что я имею в виду, подумайте о прошлом в прошлом, когда вы отправили по электронной почте кого-то и попросили их посмотреть на фиксацию. Пять минут спустя они быстро вернули «хорошо выглядит». Неужели они *действительно* пересмотрели его? *Действительно* ? У вас есть монолог, когда вы попадаете в такой вакуум.

Недостаток здесь должен быть очевиден. Если люди оставляют время только для беглого взгляда, вы действительно не проводите обзоры кода.

### Альфа-собака

Опять же, вы можете найти «альфа-собаку» в некоторых из этих других видов обзоров. Я смотрю на тебя, перчатка и экзамен. С обзором кода альфа-собаки у вас есть ситуация, когда особенно доминирующий старший разработчик управляет риском с командой. В этом смысле название относится как к человеку, так и к стилю обзора.

В команде с четкой альфа-собакой этот человек управляет кодовой базой железным кулаком. Таким образом, обзор кода становится упражнением в ублажении альфа-собаки. Если он присутствует, это просто приводит к тому, что он управляет перчаткой. Но, даже отсутствует, обзор идет в соответствии с тем, что ему может или не нравится.

Это, как правило, приводит членов команды к состоянию, известному как « [наученная беспомощность](https://en.wikipedia.org/wiki/Learned_helplessness) », в котором они перестают беспокоиться о принятии решений без альфа-собаки. Очевидно, что это мешает развитию своей карьеры, но в краткосрочной перспективе она также имеет прагматичную нагрузку на команду. Это ужасно страшно.

### Сорняки

Наконец, я предлагаю проблему с обзором, которую я назову «сорняки». Это может произойти в самом хорошем смысле ситуаций, особенно с людьми, которые любят свое ремесло. Проще говоря, они попадают в сорняки.

То, что я имею в виду с этим коллоквиализмом, это то, что они увязли в деталях за счет большей картины. Очевидно, взыскательная альфа-собака может перетащить вещи в сорняки, но так может и любой. Они могут закончиться длинным отступлением о какой-то тайной языковой точке, представляющей интерес для всех сторон, но не критичной для программного обеспечения для доставки. И, как правило, это происходит с вещами, которые вы должны делать с процедурами или даже обращаться к своим автоматическим обзорам кода.

Самая большая проблема с обзором кода «сорняков» возникает из-за плохого использования времени. Это заставляет вещи пропускаться, иначе они превращают обзоры в марафоны.

### Как правильно

Как правильно получить код, можно легко заняться несколькими сообщениями. Но я закрою очень широкий философский взгляд на то, как подойти к нему.

Прежде всего, убедитесь, что вы четко понимаете цели обзора, критерии и поведение. Это помогает остановить анти-шаблоны, в которых обзор выходит из строя или увязывается. Он также предотвращает монологию и несколько приглушает плохое поведение. Но, помимо этого, посмотрите на обзоры кода как на совместные добровольные сессии, где сверстники пытаются улучшить общую кодовую базу. Некоторые из этих сверстников могут иметь более или менее опыт, но мнение каждого имеет значение, и именно это -  *мнение* автора, которое может принять решение.

Хотя вы можете смириться с тем, что кто-то менее опытный разработчик может оставить что-то плохое в кодовой базе, поверьте мне. Ущерб, который вы делаете, позволяя этим анти-шаблонам продолжать во имя «получить это право», будет намного хуже.