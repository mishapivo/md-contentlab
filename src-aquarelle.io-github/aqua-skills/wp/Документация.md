# Документация

- [Загрузить PDF-файлbackup-restore-mysql.pdf](http://localhost/dashboard/docs/backup-restore-mysql.pdf)

содержание[Использование phpMyAdmin](http://localhost/dashboard/docs/backup-restore-mysql.html#using_phpmyadmin)[Использование средств командной строки](http://localhost/dashboard/docs/backup-restore-mysql.html#using_command_line_tools)

# Резервное копирование и восстановление баз данных MySQL / MariaDB

При использовании XAMPP вы можете обнаружить, что вам необходимо создать резервную копию или восстановить базу данных MySQL или MariaDB. Есть два простых способа сделать это с помощью XAMPP: с помощью инструмента phpMyAdmin на основе браузера или с помощью инструментов командной строки MySQL / MariaDB. В этом руководстве описаны оба варианта.

В этом руководстве предполагается, что у вас уже есть приложение PHP, в котором используется база данных MySQL / MariaDB, развернутая на XAMPP. Пример приложения, используемого в этом руководстве, - WordPress, хотя описанные ниже шаги будут работать для любого приложения.

| **   | Помните, что вы можете быстро установить WordPress, используя [модуль Bitnami WordPress для XAMPP](https://bitnami.com/stack/xampp#wordpress) . |
| ---- | ---------------------------------------- |
|      |                                          |

## Использование phpMyAdmin

XAMPP включает [phpMyAdmin](http://www.phpmyadmin.net/) , [инструмент](http://www.phpmyadmin.net/) с открытым исходным кодом, основанный на браузере для управления серверами баз данных MySQL / MariaDB. Чтобы создать резервную копию базы данных MySQL / MariaDB с помощью phpMyAdmin, выполните следующие действия:

1. Перейдите по [адресу http: // localhost / phpMyAdmin](http://localhost/phpMyAdmin) или [http://127.0.0.1/phpMyAdmin](http://127.0.0.1/phpMyAdmin) . При необходимости войдите в систему, используя учетные данные доступа к базе данных. На новой установке XAMPP без каких-либо изменений вы можете войти в систему с *правами root* с пустым паролем.

2. Выберите базу данных, которая будет скопирована из списка в левой навигационной панели. В этом случае мы создаем резервную копию базы данных WordPress, которая называется *bitnami_wordpress* .

   ![image1](http://localhost/dashboard/docs/images/backup-restore-mysql/image1.png)

3. Выберите команду «Экспорт» в верхней панели навигации.

4. На результирующей странице выберите «Быстрый» в качестве метода экспорта и «SQL» в качестве выходного формата. Нажмите «Перейти», чтобы продолжить.

   ![image2](http://localhost/dashboard/docs/images/backup-restore-mysql/image2.png)

PhpMyAdmin будет экспортировать базу данных в текстовый файл в виде ряда операторов SQL. После этого браузер предложит вам загрузить его на рабочий стол. Этот текстовый файл является вашей резервной копией, поэтому храните его в безопасности!

![image3](http://localhost/dashboard/docs/images/backup-restore-mysql/image3.png)

В дальнейшем вы можете восстановить базу данных. Чтобы восстановить данные в новой базе данных MySQL / MariaDB с помощью phpMyAdmin, выполните следующие действия:

1. Перейдите по [адресу http: // localhost / phpMyAdmin](http://localhost/phpMyAdmin) или [http://127.0.0.1/phpMyAdmin](http://127.0.0.1/phpMyAdmin) . При необходимости войдите в систему, используя учетные данные доступа к базе данных.

2. Выберите команду «Создать» в левой навигационной панели.

   ![image4](http://localhost/dashboard/docs/images/backup-restore-mysql/image4.png)

3. На результирующей странице введите имя для новой базы данных (в данном случае *myblog* ). Выберите настройку «utf8_general_ci». Нажмите «Создать», чтобы создать базу данных.

   ![image5](http://localhost/dashboard/docs/images/backup-restore-mysql/image5.png)

   Как только база данных будет создана, она появится в левой навигационной панели.

   ![image6](http://localhost/dashboard/docs/images/backup-restore-mysql/image6.png)

4. Выберите новую базу данных в левой навигационной панели. На полученной странице выберите команду «Импорт» в верхней панели навигации.

5. Нажмите кнопку «Обзор ...» и выберите файл резервной копии, созданный ранее. Нажмите «Перейти», чтобы продолжить.

   ![image7](http://localhost/dashboard/docs/images/backup-restore-mysql/image7.png)

   PhpMyAdmin импортирует данные из файла резервной копии. После завершения вы увидите экран с указанием статуса импорта.

   ![image8](http://localhost/dashboard/docs/images/backup-restore-mysql/image8.png)

Если вы просматриваете содержимое базы данных, вы должны увидеть исходные данные.

![image9](http://localhost/dashboard/docs/images/backup-restore-mysql/image9.png)

Теперь вы должны обновить конфигурацию своего приложения и указать его на свою недавно созданную базу данных. Например, с модулем Bitnami WordPress вам нужно будет отредактировать файл *wp-config.php* в подкаталоге *apps \ wordpress \ htdocs \* вашего установочного каталога XAMPP. Внутри этого файла вам нужно будет обновить константу *DB_NAME,* чтобы использовать новое имя базы данных.

![image10](http://localhost/dashboard/docs/images/backup-restore-mysql/image10.png)

| **   | По умолчанию PHP (и, следовательно, phpMyAdmin) настроен только для приема загрузок размером до 2 МБ. Если ваша база данных больше этого, вам нужно изменить файл конфигурации PHP, чтобы принять более крупный размер загружаемого файла. Для этого отредактируйте файл *php.ini* в подкаталоге *php \*вашего каталога установки XAMPP и увеличьте значения переменных *post_max_size* и *upload_max_filesize* . Сохраните изменения и перезапустите Apache, чтобы изменения вступили в силу. |
| ---- | ---------------------------------------- |
|      |                                          |

## Использование средств командной строки

MySQL и MariaDB включают два инструмента командной строки, которые можно использовать для быстрого резервного копирования и восстановления баз данных. Средство *mysqldump* используется для экспорта содержимого базы данных в текстовый файл, в то время как клиент *mysql* может использоваться для импорта данных из текстового файла в базу данных MySQL / MariaDB.

Чтобы создать резервную копию базы данных MySQL / MariaDB из командной строки, выполните следующие действия:

1. Запустите новую командную оболочку Windows, используя кнопку «Shell» на панели управления XAMPP.

2. Используйте команду ниже, чтобы экспортировать содержимое выбранной базы данных. В этом примере мы создаем резервную копию базы данных WordPress, которая называется *bitnami_wordpress* , в файл с именем *bitnami_wordpress.sql* . Этот текстовый файл является вашей резервной копией, поэтому храните его в безопасности!

   ```
   Msgstr "
   ```

   ![image11](http://localhost/dashboard/docs/images/backup-restore-mysql/image11.png)

В дальнейшем вы можете восстановить базу данных. Чтобы восстановить данные из новой базы данных MySQL / MariaDB из командной строки, выполните следующие действия:

1. Запустите новую командную оболочку Windows, используя кнопку «Shell» на панели управления XAMPP.

2. Используйте клиент *mysql* для создания новой пустой базы данных для хранения ваших данных. В этом примере новая база данных называется *myblog* .

   ```
   Mysql --user = root --password = "" -e "CREATE DATABASE myblog"
   ```

   Не забудьте использовать правильные учетные данные доступа к базе данных в команде. На новой установке XAMPP без каких-либо изменений вы обычно можете войти в систему с правами root с пустым паролем.

3. Используйте клиент *mysql* для импорта содержимого файла резервной копии в новую базу данных.

   ```
   Mysql --user = root --password = "" --database = myblog <bitnami_wordpress.sql
   ```

   Клиент командной строки теперь импортирует данные из файла резервной копии.

   ![image12](http://localhost/dashboard/docs/images/backup-restore-mysql/image12.png)

Если вы просматриваете содержимое базы данных, вы должны увидеть исходные данные.

![image13](http://localhost/dashboard/docs/images/backup-restore-mysql/image13.png)

Теперь вы должны обновить конфигурацию своего приложения и указать его на свою недавно созданную базу данных. Например, с модулем Bitnami WordPress вам нужно будет отредактировать файл *wp-config.php* в подкаталоге *apps \ wordpress \ htdocs \* вашего установочного каталога XAMPP. Внутри этого файла вам нужно будет обновить константу *DB_NAME,* чтобы использовать новое имя базы данных.

![image14](http://localhost/dashboard/docs/images/backup-restore-mysql/image14.png)