# Использование изображений в Typora

## Изображения в Markdown

In markdown, image is written like `![alt](src)`. The `src` here can either be a url like `https://octodex.github.com/images/yaktocat.png`, or an absolute/relative file path, like `../images/test.png`. 

Дополнительные сведения об изображениях:

[TOC]

## Как вставить изображения в Typora

### Запись в Markdown - Write the Markdown

Вы можете просто записать синтаксис разметки, чтобы вставить изображение. Или нажмите «изображение» из меню или нажмите комбинацию клавиш. Когда вы это сделаете, и между тем, если в буфере обмена есть URL-адрес изображения, то URL-адрес будет непосредственно вставлен в `src`.

### Перетаскивания

Конечно, есть более простой способ - перетащить и сбросить, как и скринкаст ниже.

![drag-img](img/drag-img.gif)

You could also drag & drop multiple image files at one time.

### Выбрать из локальных файлов

Вы можете щелкнуть пункт меню `Edit` → `Image Tools` → `Insert Local Images…` в строке меню, чтобы открыть диалоговое окно для выбора и вставки локального изображения.

Если вы часто используете этот пункт меню, мы предложим вам повторно назначить комбинацию клавиш для этой команды "insert image", следуя [Custom Key Binding](http://support.typora.io/Custom-Key-Binding/).

### Вставить из буфера

Поскольку файл Markdown является только текстовым файлом, пользователи не могут вставлять данные изображения в файл Markdown напрямую, но могут вставлять ссылку на изображение в file/url.

Typora поддерживает вставку данных изображения из буфера обмена , **после того, как расскажет typora, куда поместить эти изображения **. Typora помещает данные изображения в заданную папку или сервер, а затем вставляет изображения, относящиеся к этому сохраненному файлу или URL-адресу. См. Раздел **[При вставке локального изображения ...](# когда-вставить-локальный-образ ...)** для более подробной информации.

> **Совет**: на macOS пользователи могут копировать файл изображения из finder, а затем вставлять в typora. Он имеет такое же поведение при перетаскивании.
>
> **Совет**: на macOS вы также можете копировать изображения с iPhone, а затем вставлять в Typora после настройки местоположения для размещения файлов изображений.

## При вставке локального изображения

Typora поддерживает копирование файлов изображений в данную папку или веб-сервер (требуется [iPic][]) при вставке локальных изображений с помощью перетаскивания или из строки меню. Ниже приведены инструкции по настройке.

### Поведение по умолчанию

По умолчанию, когда вы вставляете или перетаскиваете файл изображения в Typora, мы будем использовать путь к файлу изображения для атрибута `src`.

### Использовать относительный путь

Если вы включите `Editor` → `Image Insert` →  `Use relative path if possible` в панели настроек, и ваша запись была сохранена в файл, тогда при перетаскивании локального изображения атрибут `src` будет установить как относительный путь к текущему файлу (папке).

### Скопировать файлы изображений в целевую папку при вставке локального изображения

> Чтобы использовать эту функцию, вам нужно выбрать опцию «Разрешить копирование изображений в указанную папку» на панели настроек.

Одним из распространенных сценариев является редактирование сообщений `*.md` в статических сайтах (например, Jekyll) с использованием Typora. Например, если файл `. * Md` помещается в папку `_posts`, в то время как файлы изображений попадают в папку  `_media`, вы можете скопировать файлы изображений в папку `_media`, когда вы перетаскиваете или вставляете изображения в Файл Markdown автоматически. Вот как:

1. Сохраните файл на каком-то пути.

2. Включите «Редактор» → «Вставка изображения» → «Разрешить копирование изображений в указанную папку» на панели настроек.

   ![Snip20161117_2](img/Snip20161117_2.png)

3. Выберите «Редактировать» → «Инструменты изображения» → «При вставке локальных изображений» → «Копировать файл изображения в папку» из меню выберите целевую папку.

   ![Snip20161117_6](img/Snip20161117_6.png)

На шаге 3 новый элемент `typora-copy-images-to: {relative path}` будет вставлен в блок [YAML Front Matter][] текущего документа. Таким образом, вы можете вручную добавить **свойство typora-copy-images-to** в YAML Front Matter, чтобы включить это поведение.

После этого, если вы перетащите **локальные** изображения или вставьте изображения в Typora, файл изображения будет скопирован в целевой файл и обновлен соответствующий `src`.

### Загрузите файл изображения на веб-сервер. (только для macOS)

> **Требования**: установка macOS ≥ 10.11 и [iPic][]. Кроме того, вам нужно включить `Allow upload to given server` в панели настроек.
>
> **Предупреждение**: По умолчанию iPic будет анонимно загружать изображения на общедоступный веб-сервер, и вы не сможете удалять файлы изображений с этого веб-сервера после его загрузки в него. Поэтому, пожалуйста, настройте iPic заранее, если вы хотите включить эту функцию и управлять всеми загруженными вами файлами изображений.

Вот как включить эту функцию:

1. Установите [iPic][] и **config** соответствующую службу онлайн-изображения.
2. Включите `Editor` → `Image Insert` → `Allow copy images to given folder` на панели настроек.
3. Проверьте элемент `Edit` → `Image Tools` → `When Insert Local Images` → `Upload Image via iPic` из меню.

На шаге 3 новый элемент `typora-copy-images-to: ipic` будет вставлен в блок [YAML Front Matter][] текущего документа.

Таким образом, вы также можете вручную добавить **typora-copy-images-to: ipic** свойство в YAML Front Matter, чтобы включить это поведение.

Советы. Если вы хотите переместить файл изображения в папку `ipic`, вы должны использовать `typora-copy-images-to: ./ipic`.

## Отображение изображений в относительном пути

### Относительный путь к текущему файлу / папке (поведение по умолчанию)

По умолчанию пользователи могут ссылаться на локальное изображение по относительному пути к текущему файлу `*.md` . Например, если файл `*.md` находится в `/User/typora/desktop/test.md`, тогда the `![img](image.png)` будет отображать изображение из `/User/typora/desktop/image.png` как тег `<img>` в HTML. Кроме того, для `../download/image.png`, будет загружено изображение из `/User/typora/download/image.png`.

### Относительный путь к определенной папке

Если вы используете уценку для создания веб-сайтов, вы можете указать префикс url для предварительного просмотра изображения на локальном компьютере с свойством `typora-root-url` в YAML Front Matters.

Например, введите `typora-root-url: / User / Abner / Website / typora.io /` в YAML Front Matters, а затем `! [Alt] (/ blog / img / test.png)` будет рассматриваться как `! [alt] (файл: ///User/Abner/Website/typora.io/blog/img/test.png)` in typora.

В новой версии вместо того, чтобы вручную вводить свойство typora-root-url`, вы можете просто щелкнуть элемент из меню «Редактировать» → «Инструменты изображения» → «Использовать корневой путь изображения», чтобы сообщить Typora создать «typora-root-url» `свойство автоматически.



***



If you’re using markdown for building websites, you may specify a url prefix for image preview in local computer with property `typora-root-url` in YAML Front Matters. 

For example, input `typora-root-url:/User/Abner/Website/typora.io/` in YAML Front Matters, and then `![alt](/blog/img/test.png)` will be treated as `![alt](file:///User/Abner/Website/typora.io/blog/img/test.png)` in typora.

In new version, instead of manually input `typora-root-url` property, you could just click item from menubar `Edit` → `Image Tools` → `Use Image Root Path` to tell Typora to generate `typora-root-url` property automatically.

## Загрузка изображений на облачный сервер (только для MacOS)

### Введение в iPic

![ipic](img/ipic.jpg)

[iPic] [] - приложение, которое позволяет загружать локальные изображения в различные облачные сервисы, включая [Imgur] (http://imgur.com/), [Flickr] (https://www.flickr.com/) , [Amazon S3] (https://aws.amazon.com/s3/) и т. Д., И верните вам URL-адрес загруженного изображения для общего доступа. Вы можете найти подробные документы [здесь] (http://toolinbox.net/en/iPic/).

Благодаря интеграции [iPic][] пользователи могут совместно использовать файл разметки другим, не упаковывая локальные изображения вместе с текстовым файлом. Пользователи могут перестать заботиться о том, где размещать локальные изображения или как ссылаться на локальные изображения, используя относительный путь, поскольку они могут просто загружать используемые изображения в облачный сервер.

***

[iPic][] is an app which allows you to upload local images into various cloud service, including  [Imgur](http://imgur.com/), [Flickr](https://www.flickr.com/),[ Amazon S3](https://aws.amazon.com/s3/), etc, and return you a web url of the uploaded image for public access. You could find detailed documents [here](http://toolinbox.net/en/iPic/).

With the integration of [iPic][], users could share markdown file to others without packaging local images along with the plain text file. And users can stop caring about where to put local images or how to refer local images using relative path, since they can simply upload used images into cloud server.

### Системные требования и подготовка

1. Эта функция поддерживает только macOS ≥ 10.11.
2. Необходимо установить последнюю версию [iPic] [].
3. Настройте веб-сервер в [iPic][].

### Загружать все локальные изображения в облачный сервер

Typora предоставляет функцию загрузки всех локальных изображений на облачный сервер через [iPic][]. Чтобы использовать его, просто выберите `Edit` → `Image Tools` → `Upload Local Images via iPic` из меню и дождитесь завершения процесса загрузки.

### Загрузка при вставке изображений

Инструкции для этой части можно найти в разделе [When insert local image…](#when-insert-local-image…) → Загрузка файла изображения на веб-сервер. (только для MacOS).

## Выравнивание изображений

В настоящее время Typora не поддерживает выравнивание изображения. Но вы можете использовать HTML-код, например `<center>! [Img] (src) </ center>` для выравнивания изображений на экспортированных HTML или PDF.

Кроме того, по умолчанию, если один абзац содержит только одно изображение, он будет выровнен по центру. Он управляется CSS и может быть возвращен [добавить пользовательский CSS](http://support.typora.io/Add-Custom-CSS/):

```CSS
p .md-image:only-child{
     width: авто;
     text-align: inherit;
}
```


## Изменение размера изображений

Please check [this link](http://support.typora.io/Resize-Image/).



[YAML Front Matter]: http://yaml.org/
[iPic]: https://itunes.apple.com/app/id1101244278?ls=1&amp;amp;amp;mt=12